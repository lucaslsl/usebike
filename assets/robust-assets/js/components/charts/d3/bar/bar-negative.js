$(window).on("load",function(){function a(a){return a.value=+a.value,a}function b(){e=c.node().getBoundingClientRect().width-d.left-d.right,k.attr("width",e+d.left+d.right),l.attr("width",e+d.left+d.right),g.range([0,e]),l.selectAll(".d3-xaxis").call(i),l.selectAll(".d3-yaxis").attr("transform","translate("+g(0)+",0)"),l.selectAll(".d3-bar").attr("x",function(a){return g(Math.min(0,a.value))}).attr("y",function(a){return h(a.name)}).attr("width",function(a){return Math.abs(g(a.value)-g(0))})}var c=d3.select("#bar-negative"),d={top:20,right:20,bottom:30,left:50},e=c.node().getBoundingClientRect().width-d.left-d.right,f=500-d.top-d.bottom,g=d3.scale.linear().range([0,e]),h=d3.scale.ordinal().rangeRoundBands([0,f],.1),i=d3.svg.axis().scale(g).orient("bottom"),j=d3.svg.axis().scale(h).orient("left").tickSize(0).tickPadding(6),k=c.append("svg"),l=k.attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");d3.tsv("robust-assets/demo-data/d3/bar/bar-negative.tsv",a,function(a,b){if(a)throw a;g.domain(d3.extent(b,function(a){return a.value})).nice(),h.domain(b.map(function(a){return a.name})),l.selectAll(".d3-bar").data(b).enter().append("rect").attr("class",function(a){return"d3-bar d3-bar--"+(a.value<0?"negative":"positive")}).attr("x",function(a){return g(Math.min(0,a.value))}).attr("y",function(a){return h(a.name)}).attr("width",function(a){return Math.abs(g(a.value)-g(0))}).attr("height",h.rangeBand()),l.append("g").attr("class","d3-axis d3-xaxis").attr("transform","translate(0,"+f+")").call(i),l.append("g").attr("class","d3-axis d3-yaxis").attr("transform","translate("+g(0)+",0)").call(j)}),$(window).on("resize",b),$(".menu-toggle").on("click",b)});