$(window).on("load",function(){function a(a){return a.date=g.parse(a.date),a.close=+a.close,a}function b(){e=c.node().getBoundingClientRect().width-d.left-d.right,m.attr("width",e+d.left+d.right),n.attr("width",e+d.left+d.right),h.range([0,e]),n.selectAll(".d3-xaxis").call(j),n.selectAll(".d3-line").attr("d",l)}var c=d3.select("#line-chart"),d={top:20,right:20,bottom:30,left:50},e=c.node().getBoundingClientRect().width-d.left-d.right,f=500-d.top-d.bottom,g=d3.time.format("%d-%b-%y"),h=d3.time.scale().range([0,e]),i=d3.scale.linear().range([f,0]),j=d3.svg.axis().scale(h).orient("bottom"),k=d3.svg.axis().scale(i).orient("left"),l=d3.svg.line().x(function(a){return h(a.date)}).y(function(a){return i(a.close)}),m=c.append("svg"),n=m.attr("width",e+d.left+d.right).attr("height",f+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");d3.tsv("robust-assets/demo-data/d3/line/line.tsv",a,function(a,b){if(a)throw a;h.domain(d3.extent(b,function(a){return a.date})),i.domain(d3.extent(b,function(a){return a.close})),n.append("g").attr("class","d3-axis d3-xaxis").attr("transform","translate(0,"+f+")").call(j),n.append("g").attr("class","d3-axis d3-yaxis").call(k).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("fill","#00BCD4").style("font-size",12).text("Price ($)"),n.append("path").datum(b).attr("class","d3-line").attr("d",l).style("fill","none").style("stroke-width",3).style("stroke","#00BCD4")}),$(window).on("resize",b),$(".menu-toggle").on("click",b)});