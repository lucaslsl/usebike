!function(a,b,c){"use strict";function d(){var a=h.options[h.selectedIndex].textContent;i.setOption("theme",a),location.hash="#"+a}function e(){var a=b.getElementById("preview"),c=a.contentDocument||a.contentWindow.document;c.open(),c.write(g.getValue()),c.close()}var f=b.getElementById("codemirror"),g=CodeMirror.fromTextArea(f,{lineNumbers:!0,mode:"javascript",theme:"monokai"}),h=b.getElementById("select");h.options[h.selectedIndex].textContent;f=b.getElementById("codemirror-theme");var i=CodeMirror.fromTextArea(f,{lineNumbers:!0,styleActiveLine:!0,mode:"javascript",matchBrackets:!0});c("#select").change(function(){var a=c(":selected").val(),b=c('[title="theme"]');b.attr("href","robust-assets/css/plugins/editors/theme/"+a.toLowerCase()+".css"),i.setOption("theme",a)});var j=location.hash&&location.hash.slice(1)||b.location.search&&decodeURIComponent(b.location.search.slice(1));j&&(h.value=j,i.setOption("theme",j)),CodeMirror.on(a,"hashchange",function(){var a=location.hash.slice(1);a&&(h.value=a,d())}),f=b.getElementById("codemirror-loadmode"),CodeMirror.modeURL="robust-assets/js/plugins/editors/codemirror/mode/*/*.js";var k=CodeMirror.fromTextArea(f,{lineNumbers:!0}),l=b.getElementById("mode");CodeMirror.on(l,"keypress",function(a){13==a.keyCode&&change()}),c("#change").on("click",function(){var a,c,d,e=l.value;if(a=/.+\.([^.]+)$/.exec(e)){var f=CodeMirror.findModeByExtension(a[1]);f&&(c=f.mode,d=f.mime)}else if(/\//.test(e)){var f=CodeMirror.findModeByMIME(e);f&&(c=f.mode,d=e)}else c=d=e;c?(k.setOption("mode",d),CodeMirror.autoLoadMode(k,c),b.getElementById("modeinfo").textContent=d):alert("Could not find a mode corresponding to "+e)});var m=b.getElementById("codemirror-sublime").value,n=CodeMirror.keyMap.sublime;for(var o in n){var p=n[o];"fallthrough"==o||"..."==p||/find/.test(p)&&!/findUnder/.test(p)||(m+='\t"'+o+'": "'+p+'",\n')}m+="}\n\n// The implementation of joinLines\n",m+=CodeMirror.commands.joinLines.toString().replace(/^function\s*\(/,"function joinLines(").replace(/\n	/g,"\n")+"\n",f=b.getElementById("codemirror-sublime");var g=CodeMirror.fromTextArea(f,{value:m,lineNumbers:!0,theme:"monokai",mode:"javascript",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,theme:"monokai",tabSize:2});f=b.getElementById("codemirror-js");var q=b.getElementById("codemirror-html"),r=b.getElementById("codemirror-markdown");a.editor=CodeMirror.fromTextArea(f,{mode:"javascript",lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(a){a.foldCode(a.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),g.foldCode(CodeMirror.Pos(13,0)),a.editor_html=CodeMirror.fromTextArea(q,{mode:"text/html",lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(a){a.foldCode(a.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),editor_html.foldCode(CodeMirror.Pos(0,0)),editor_html.foldCode(CodeMirror.Pos(21,0)),a.editor_markdown=CodeMirror.fromTextArea(r,{mode:"markdown",lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-Q":function(a){a.foldCode(a.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),f=b.getElementById("codemirror-marker");var g=new CodeMirror.fromTextArea(f,{lineNumbers:!0,styleSelectedText:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0}});g.markText({line:6,ch:26},{line:6,ch:42},{className:"styled-background"});var s,g=new CodeMirror.fromTextArea(b.getElementById("codemirror-preview"),{mode:"text/html"});g.on("change",function(){clearTimeout(s),s=setTimeout(e,300)}),setTimeout(e,300);var t="0123456789",u="          ",v=["#967ADC","#37BC9B","#F6BB42","#3BAFDA","#DA4453","#3f51b5","#2196F3","#ff9800","#e91e63"],w=[];m="";for(var x=1;x<=9;x++){w.push({color:v[x],column:10*x,lineStyle:"dashed"});for(var y=1;y<x;y++)m+=u;m+=t+"\n"}f=b.getElementById("codemirror-ruler"),g=new CodeMirror(f,{rulers:w,value:m+m+m,lineNumbers:!0}),f=b.getElementById("codemirror-tabs"),g=CodeMirror.fromTextArea(f,{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,mode:"text/html"})}(window,document,jQuery);