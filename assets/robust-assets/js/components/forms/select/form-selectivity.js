!function(a,b,c){"use strict";function d(a){return a?String(a).replace(/[&<>"']/g,function(a){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[a]}):""}function e(a){var b,c=a.selectivity,d=a.term,e=a.offset||0;if("single-input-with-submenus"===c.$el.attr("id")){if(!c.dropdown)return void a.callback({more:!1,results:[]});var g=c.dropdown.highlightedResult.id;b=h.filter(function(a){return i(a.id).indexOf(i(d))>-1&&a.timezone===g}).map(function(a){return a.id})}else b=f.filter(function(a){return i(a).indexOf(i(d))>-1});b.sort(function(a,b){a=i(a),b=i(b);var c=a.slice(0,d.length)===d,e=b.slice(0,d.length)===d;return c?e&&a>b?1:-1:e?1:a>b?1:-1}),setTimeout(function(){a.callback({more:b.length>e+10,results:b.slice(e,e+10)})},500)}var f=c("#single-select-box").find("option").map(function(){return this.textContent}).get(),g=c("#multiple-select-box").find("optgroup").map(function(){return{text:this.getAttribute("label"),children:c(this).find("option").map(function(){return{id:parseInt(this.getAttribute("value"),10),text:this.textContent}}).get()}}).get(),h=c("#multiple-select-box").find("option").map(function(){return{id:this.textContent,timezone:this.getAttribute("data-timezone")}}).get(),i=c.fn.selectivity.transformText;c(".single-input").selectivity({allowClear:!0,placeholder:"No city selected",query:e,searchInputPlaceholder:"Type to search a city"}),c(".single-input-without-search").selectivity({allowClear:!0,items:f,placeholder:"No city selected"}),c(".single-input-with-labels").selectivity({allowClear:!0,items:g,placeholder:"No city selected",searchInputPlaceholder:"Type to search a city"});var j={query:e,showSearchInput:!0};c(".single-input-with-submenus").selectivity({allowClear:!0,items:[{text:"Western European Time Zone",id:"+00:00",submenu:j},{text:"Central European Time Zone",id:"+01:00",submenu:j},{text:"Eastern European Time Zone",id:"+02:00",submenu:j}],placeholder:"No city selected",showSearchInputInDropdown:!1}),c(".multiple-input").selectivity({multiple:!0,placeholder:"Type to search cities",query:e}),c(".tags-input").selectivity({items:["red","green","blue"],multiple:!0,tokenSeparators:[" "],value:["brown","red","green"]}),c(".emails-input").selectivity({inputType:"Email",placeholder:"Type or paste email addresses"}),c(".single-select-box").selectivity(),c(".without-search-box").selectivity({showSearchInputInDropdown:!1}),c(".multiple-select-box").selectivity(),c(".repository-input").selectivity({ajax:{url:"https://api.github.com/search/repositories",dataType:"json",minimumInputLength:3,quietMillis:250,params:function(a,b){var c=1+Math.floor(b/30);return{q:a,page:c}},processItem:function(a){return{id:a.id,text:a.name,description:a.description}},results:function(a,b){return{results:a.items,more:a.total_count>b+a.items.length}}},placeholder:"Search for a repository",templates:{resultItem:function(a){return'<div class="selectivity-result-item" data-item-id="'+a.id+'"><b>'+d(a.text)+"</b><br>"+d(a.description)+"</div>"}}})}(window,document,jQuery);